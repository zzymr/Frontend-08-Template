学习笔记

## 重学JavaScript  建立知识体系
### 语言按语法分类 泛用的语言分类学
非形式语言： 中文，语文  自由，没有固定的形式 语法没有严格的定义
形式语言：形式化定义，分类谱系（乔姆斯基谱系）4种 按照文法的复杂程度
0: 无限制文法
1: 上下文相关文法
2: 上下文无关语法
3: （正规）正则文法

上下包含关系：从上到下，反过来不成立
### 工具 - 产生式
终结符不是代码结束的意思，而是类似叶子节点这种形式
括号表示一组

BNF可以递归
四则运算：
终结符：Number，加减乘除 可加入 ()
非终结符：MultiplicativeExpress(乘法结构)、AddtiveExpress（加法结构）
单独的Number也定义为特殊的乘法结构  BNF使用小技巧
加入 () PrimaryExpression = Number | "("<AdditiveExpression>")" 

javascript引擎上分析
Javascript总体上属于上下文无关文法  javascript表达式部分大部分是正则文法
两个特例：新加入的**运算符号 右结合   `2**1**2` 结果是2
        if语句加入更不是正则文法
        一旦遇到get上下文相关 的地方，单独用代码做一些特殊处理 一般不会把javascript归结于上下文相关文法处理
严格按照乔姆斯基谱系来说 Javascript是属于上下文相关文法

### 现代语法的分类
大部分的编程语言的主体是上下文无关文法

#### 形式语言-表达方式
+ 申明式语言 ：只告诉你结果是怎么样的
+ 命令型语言： 达成这个结果每个步骤是怎么样的

#### 编程语言的高级特性
图灵完备性：研究数学上的可计算性提出的
跟图灵机完全等效的就是图灵完备
直观的表述：所有可计算的问题都可以用来描述的这样的语言就是具备图灵完备性
随着计算机技术的发展收敛到了几个固定的模式 实现图灵完备性

可计算性分两个流配
goto if和while
lambda演算可以通过递归实现图灵完备、
判断适用的场景选择合适的方式去实现

#### 类型系统
动态类型系统 ：用户的机器上，用户的内存里面能找的类型  典型的javascript
静态类型系统：程序员编写代码的时候，能够保留的类型信息  C++
最简单区分 能在谁的电脑上保留下来

java有反射机制： 半动态半静态的形式 比较新的语言会采用的形式
强类型与弱类型 只是在说明编程语言类型转换时发生的形式
强类型：类型转换不会默认发生
弱类型：javascript String + Number Number转String然后相加 
       String == Boolean 默认先会把 Boolean转Number在与Sting比较

复合类型：
结构体
函数签名：函数的类型  包含参数类型和返回值类型
子类型：典型C++  有了子类型的概念，再做类型转换的时候就会有一些默认的行为 比如：能用父类型的地方都可以用子类型
所有基于类的结构性语言都会把类的结构关系变成类型的结构关系
类与类型是两个概念
泛型：范式。泛型编程
类型当成参数一样的形式传递给某一段代码结构，类，函数 
泛型与子类型结合产生  逆变/协变
凡是能用Array 里面parent的地方都能用到Child类型的数组去替代

#### 一般的命令式编程语言
层级：
Atom 原子级 语言的最小单位 包含着关键字，直接量（1，2，3） 变量名 等基本单位
Express 表达式 与或 四则运算
语句 if for
结构化 Function Class
program 实际执行的代码  module 模块

### 重学前端：通过一定的语法表达一定的语义最后改变运行时的状态这就是编程

最小的单位：字面值和运行时类型
七种基本类型
Symbol： 一定程度上代替String的作用用于Object的索引 属性名
typeof null 是object

### Number
Double Float 
基本思想：把一个数字拆成指数和有效位数
有效位数决定浮点数的精度
指数决定浮点数表示的范围 数越大表示的位置🈷越稀疏
一个符号位 11个指数位 52个精度位  位bit 0/1
0正1负不参与数字的表示
float：精度位*浮点位 * 2的指数次方
有效数字以1开头
0.1+0.2 != 0.3
三次转换造成精度损失 3e

### String
字符集：
ASCII 127个
unicode 分片区，联合所有的语言 包含中文等 0000 FFFF
地区国家级的使用：
GB  字符集码点和unicode的不一致 都会兼容ASCII 与unicode不兼容 但是优点在于范围小
ISO-8859 不包含中文的

编码集
utf-8 默认用一个字节表示一个字符（8个比特位）不是所有都是一个字节
一个ASCII编码文字的同时也一定是一个utf-8的编码的文字，反过来不成立

bfnrtv特殊的字符
2028 2029换行符
\x \u转义的规则

#### null是关键字，
undeifined 不是关键字，是一个全局变量 非常容易造成问题
void 0; 产生undeifined比较安全

### 对象
对象不是由状态决定的
而是状态由对象决定
值描述一个对象，就是所谓的状态，状态的改变就是行为
面向对象。改变的是谁的状态
#### 类：
归类：有共性就可以归类，C++ 多继承 菱形继承、三角形继承
分类：一级一级的分，只有一个重属关系 java c#
Javascript 多范式的面向对象的语言

### Javascript对象
原型认知成本低，选错的成本低，适合不清晰，描述的自由的场景
分类Class 适合与严谨的场景，优势，天然的与类型系统有一定整合。很多语言选择把Class的继承关系整合到类型系统的继承关系中
Class和Type是两个概念
#### 设计对象原则
设计对象的行为的时候,遵循行为改变状态的原则，高于一切对象设计的基本原则，违背了这个原则，整个对象的内聚性就没了，随时可以给对象加方法
#### Object in Javascript
属性可以用来描述状态 但是javascript属性既可以用来描述状态也可以用来描述行为，函数也可以放进属性里面
用内存地址的唯一性表示对象的唯一性
原型链：支持原型机制，获取属性的行为沿着原型的指向一直向上找直到null

#### Javascript属性 
数据属性：有一个具体存储的值，可以是任何JavaScript的值，7种来类型之一，存储函数也可以描述行为
writable设置为false时，仅仅是通过点运算不可更改，仍然可以通过define property去修改
访问器属性：多数情况下用来描述行为的，但有的时候会同时描述状态和行为
enumerable主要影响 Object.keys这样的一些内置函数的行为
也会影响forEach这样的语法产生的默认行为
Symbol 唯一值

#### Obejct API/grammer
第一组：基本的面向对象能咯，提供了基本的对象机制，通过语法去创建对象，访问属性和定义新的属性，以及改变属性的特征值
第二组：基于原型描述对象的方法 Obejct.create() 在指定原型下创建对象，基于原型的对象API
第三组：基于分类的方法描述对象，尽管运行时会转换成JavaScript的原型相关的访问，从语法上看，基于类的面向对象的组织方式
第四组：历史包袱，es3 之后不建议用
#### 特殊对象
Function 
typeof function
凡是采用[[ ]]这样的定义的都是对象的内置行为，JavaScript种无论通过任何形式代码都是调用不到的，运行时确实存在
但是在调用JavaScript引擎的C++代码在运行时可以调用





